<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liquidity Pool Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg-primary: #0f0f1a;
      --bg-secondary: #1a1a2e;
      --bg-tertiary: #252542;
      --bg-hover: #2d2d4a;
      --border: #3d3d5c;
      --text-primary: #ffffff;
      --text-secondary: #a0a0b8;
      --text-muted: #6b6b8a;
      --accent: #7c3aed;
      --accent-light: #a78bfa;
      --accent-dark: #5b21b6;
      --success: #10b981;
      --success-light: #34d399;
      --success-bg: rgba(16, 185, 129, 0.15);
      --danger: #ef4444;
      --danger-light: #f87171;
      --danger-bg: rgba(239, 68, 68, 0.15);
      --warning: #f59e0b;
      --warning-light: #fbbf24;
      --warning-bg: rgba(245, 158, 11, 0.15);
      --blue: #3b82f6;
      --blue-light: #60a5fa;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.5;
    }

    /* Layout */
    .app {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 260px;
      background: var(--bg-secondary);
      border-right: 1px solid var(--border);
      padding: 24px 16px;
      position: fixed;
      height: 100vh;
      overflow-y: auto;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 0 12px;
      margin-bottom: 32px;
    }

    .logo-icon {
      width: 44px;
      height: 44px;
      background: linear-gradient(135deg, var(--accent), var(--accent-dark));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
    }

    .logo-text {
      font-size: 20px;
      font-weight: 700;
      background: linear-gradient(135deg, var(--text-primary), var(--accent-light));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .nav-section {
      margin-bottom: 24px;
    }

    .nav-label {
      font-size: 11px;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1px;
      padding: 0 12px;
      margin-bottom: 8px;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      border-radius: 10px;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s;
      margin-bottom: 4px;
      font-size: 14px;
      font-weight: 500;
    }

    .nav-item:hover {
      background: var(--bg-hover);
      color: var(--text-primary);
    }

    .nav-item.active {
      background: linear-gradient(135deg, var(--accent), var(--accent-dark));
      color: white;
      box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
    }

    .nav-item .icon {
      font-size: 18px;
      width: 24px;
      text-align: center;
    }

    .nav-item .badge {
      margin-left: auto;
      background: var(--danger);
      color: white;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 10px;
      font-weight: 600;
    }

    /* Main Content */
    .main {
      flex: 1;
      margin-left: 260px;
      padding: 24px 32px;
      background: var(--bg-primary);
    }

    /* Header */
    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 28px;
    }

    .page-title {
      font-size: 28px;
      font-weight: 700;
    }

    .page-subtitle {
      color: var(--text-secondary);
      font-size: 14px;
      margin-top: 4px;
    }

    .header-actions {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .network-selector {
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--bg-secondary);
      padding: 10px 16px;
      border-radius: 12px;
      border: 1px solid var(--border);
      font-size: 14px;
      cursor: pointer;
    }

    .network-dot {
      width: 8px;
      height: 8px;
      background: var(--success);
      border-radius: 50%;
      box-shadow: 0 0 8px var(--success);
    }

    /* Cards */
    .card {
      background: var(--bg-secondary);
      border-radius: 16px;
      border: 1px solid var(--border);
      overflow: hidden;
    }

    .card-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
    }

    .card-body {
      padding: 24px;
    }

    /* Pool Header */
    .pool-header-card {
      background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
      border-radius: 20px;
      padding: 28px;
      margin-bottom: 24px;
      border: 1px solid var(--border);
    }

    .pool-info {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 24px;
    }

    .token-icons {
      display: flex;
      align-items: center;
    }

    .token-icon {
      width: 52px;
      height: 52px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
      border: 3px solid var(--bg-secondary);
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }

    .token-icon:last-child {
      margin-left: -16px;
    }

    .token-icon.eth {
      background: linear-gradient(135deg, #627eea, #3c5bd8);
    }

    .token-icon.usdc {
      background: linear-gradient(135deg, #2775ca, #1a5aa8);
    }

    .token-icon.wbtc {
      background: linear-gradient(135deg, #f7931a, #d4790f);
    }

    .token-icon.arb {
      background: linear-gradient(135deg, #28a0f0, #1a7ac2);
    }

    .pool-title {
      font-size: 28px;
      font-weight: 700;
    }

    .pool-badges {
      display: flex;
      gap: 8px;
      margin-top: 8px;
    }

    .badge {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    .badge-primary {
      background: var(--accent);
      color: white;
    }

    .badge-success {
      background: var(--success-bg);
      color: var(--success-light);
      border: 1px solid rgba(16, 185, 129, 0.3);
    }

    .badge-warning {
      background: var(--warning-bg);
      color: var(--warning-light);
      border: 1px solid rgba(245, 158, 11, 0.3);
    }

    .badge-danger {
      background: var(--danger-bg);
      color: var(--danger-light);
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .pool-stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }

    .stat-box {
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 16px 20px;
      text-align: center;
    }

    .stat-label {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .stat-value {
      font-size: 22px;
      font-weight: 700;
    }

    .stat-value.positive {
      color: var(--success-light);
    }

    .stat-change {
      font-size: 12px;
      margin-top: 4px;
    }

    .stat-change.up {
      color: var(--success-light);
    }

    .stat-change.down {
      color: var(--danger-light);
    }

    /* Grid Layout */
    .content-grid {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 24px;
    }

    /* Chart */
    .chart-section {
      background: var(--bg-secondary);
      border-radius: 16px;
      border: 1px solid var(--border);
      padding: 24px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .section-title {
      font-size: 18px;
      font-weight: 600;
    }

    .chart-container {
      position: relative;
      height: 280px;
      background: var(--bg-tertiary);
      border-radius: 12px;
      margin-bottom: 20px;
      overflow: hidden;
    }

    .chart-y-axis {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 40px;
      width: 50px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 10px 8px;
      font-size: 10px;
      color: var(--text-muted);
      text-align: right;
    }

    .chart-area {
      position: absolute;
      left: 50px;
      right: 10px;
      top: 10px;
      bottom: 40px;
    }

    .chart-bars {
      display: flex;
      align-items: flex-end;
      height: 100%;
      gap: 2px;
      padding: 0 20px;
    }

    .chart-bar {
      flex: 1;
      background: var(--bg-hover);
      border-radius: 3px 3px 0 0;
      min-height: 4px;
      transition: all 0.15s;
      cursor: pointer;
    }

    .chart-bar:hover {
      opacity: 0.8;
    }

    .chart-bar.in-range {
      background: linear-gradient(180deg, var(--accent-light), var(--accent));
    }

    .chart-bar.current-price {
      background: linear-gradient(180deg, var(--success-light), var(--success));
      box-shadow: 0 0 10px var(--success);
    }

    /* Range Overlay */
    .range-overlay {
      position: absolute;
      top: 10px;
      bottom: 40px;
      background: rgba(124, 58, 237, 0.12);
      border-left: 3px solid var(--accent-light);
      border-right: 3px solid var(--accent-light);
      cursor: move;
      transition: background 0.2s;
    }

    .range-overlay:hover {
      background: rgba(124, 58, 237, 0.18);
    }

    .range-overlay.dragging {
      background: rgba(124, 58, 237, 0.25);
    }

    .range-handle {
      position: absolute;
      width: 16px;
      height: 48px;
      background: var(--accent-light);
      border-radius: 4px;
      cursor: ew-resize;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      transition: transform 0.15s, background 0.15s;
    }

    .range-handle:hover {
      background: var(--text-primary);
      transform: translateY(-50%) scale(1.1);
    }

    .range-handle::before {
      content: '';
      width: 4px;
      height: 20px;
      background: rgba(0,0,0,0.3);
      border-radius: 2px;
    }

    .range-handle.left {
      left: -8px;
    }

    .range-handle.right {
      right: -8px;
    }

    /* Current Price Indicator */
    .current-price-line {
      position: absolute;
      top: 10px;
      bottom: 40px;
      width: 2px;
      background: var(--text-primary);
      pointer-events: none;
    }

    .current-price-label {
      position: absolute;
      top: -8px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--text-primary);
      color: var(--bg-primary);
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      white-space: nowrap;
    }

    /* Range Labels */
    .range-labels {
      position: absolute;
      bottom: 45px;
      left: 50px;
      right: 10px;
      display: flex;
      justify-content: space-between;
      pointer-events: none;
    }

    .range-label {
      background: var(--accent);
      color: white;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      transform: translateX(-50%);
    }

    .range-label.max {
      transform: translateX(50%);
    }

    /* X Axis */
    .chart-x-axis {
      position: absolute;
      bottom: 10px;
      left: 50px;
      right: 10px;
      display: flex;
      justify-content: space-between;
      font-size: 10px;
      color: var(--text-muted);
    }

    /* Drag Instruction */
    .drag-hint {
      text-align: center;
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    /* Presets */
    .presets-row {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-bottom: 20px;
    }

    .preset-btn {
      background: var(--bg-tertiary);
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }

    .preset-btn:hover {
      border-color: var(--accent);
      background: var(--bg-hover);
    }

    .preset-btn.active {
      border-color: var(--accent);
      background: rgba(124, 58, 237, 0.15);
    }

    .preset-icon {
      font-size: 24px;
      margin-bottom: 8px;
    }

    .preset-name {
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 4px;
    }

    .preset-range {
      font-size: 12px;
      color: var(--text-muted);
    }

    /* Range Inputs */
    .range-inputs {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 12px;
      align-items: center;
    }

    .input-group {
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 14px 16px;
      border: 1px solid var(--border);
      transition: border-color 0.2s;
    }

    .input-group:focus-within {
      border-color: var(--accent);
    }

    .input-label {
      font-size: 11px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 6px;
    }

    .input-wrapper {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .input-wrapper .currency {
      color: var(--text-muted);
      font-size: 16px;
    }

    .input-wrapper input {
      background: transparent;
      border: none;
      color: var(--text-primary);
      font-size: 18px;
      font-weight: 600;
      width: 100%;
      outline: none;
    }

    .input-separator {
      color: var(--text-muted);
      font-size: 20px;
    }

    .center-btn {
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      padding: 10px 16px;
      border-radius: 8px;
      font-size: 13px;
      cursor: pointer;
      margin-top: 12px;
      width: 100%;
      transition: all 0.2s;
    }

    .center-btn:hover {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    /* Metrics Section */
    .metrics-section {
      background: var(--bg-secondary);
      border-radius: 16px;
      border: 1px solid var(--border);
      padding: 24px;
    }

    .capital-input-section {
      margin-bottom: 24px;
    }

    .capital-box {
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 16px 20px;
      border: 1px solid var(--border);
    }

    .capital-box .input-wrapper {
      font-size: 28px;
    }

    .capital-box .input-wrapper input {
      font-size: 28px;
    }

    .capital-box .input-wrapper .currency {
      font-size: 24px;
    }

    /* Metrics Grid */
    .metrics-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 20px;
    }

    .metric-card {
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 16px;
    }

    .metric-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
    }

    .metric-icon {
      font-size: 16px;
    }

    .metric-label {
      font-size: 12px;
      color: var(--text-muted);
    }

    .metric-value {
      font-size: 20px;
      font-weight: 700;
    }

    .metric-value.positive {
      color: var(--success-light);
    }

    .metric-value.negative {
      color: var(--danger-light);
    }

    .metric-sub {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    /* Net Return Box */
    .net-return-box {
      border-radius: 14px;
      padding: 20px;
      margin-bottom: 16px;
      border: 1px solid;
    }

    .net-return-box.positive {
      background: var(--success-bg);
      border-color: rgba(16, 185, 129, 0.3);
    }

    .net-return-box.negative {
      background: var(--danger-bg);
      border-color: rgba(239, 68, 68, 0.3);
    }

    .net-return-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .net-return-label {
      font-size: 14px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .net-return-value {
      font-size: 28px;
      font-weight: 700;
    }

    .net-return-value.positive {
      color: var(--success-light);
    }

    .net-return-value.negative {
      color: var(--danger-light);
    }

    .net-return-details {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
    }

    .net-return-details span {
      color: var(--text-secondary);
    }

    .net-return-details .apr {
      color: var(--accent-light);
      font-weight: 600;
    }

    /* Formula */
    .formula-box {
      text-align: center;
      padding: 12px;
      background: var(--bg-tertiary);
      border-radius: 10px;
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 20px;
    }

    /* Warning Box */
    .warning-box {
      background: var(--warning-bg);
      border: 1px solid rgba(245, 158, 11, 0.3);
      border-radius: 12px;
      padding: 14px 16px;
      margin-bottom: 20px;
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }

    .warning-box .icon {
      font-size: 20px;
      flex-shrink: 0;
    }

    .warning-box .title {
      font-weight: 600;
      color: var(--warning-light);
      margin-bottom: 2px;
      font-size: 14px;
    }

    .warning-box .text {
      font-size: 13px;
      color: var(--text-secondary);
    }

    /* Action Button */
    .action-btn {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, var(--accent), var(--accent-dark));
      border: none;
      border-radius: 14px;
      color: white;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      box-shadow: 0 4px 16px rgba(124, 58, 237, 0.3);
    }

    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(124, 58, 237, 0.4);
    }

    .action-btn:active {
      transform: translateY(0);
    }

    /* Pool List */
    .pools-grid {
      display: grid;
      gap: 16px;
    }

    .pool-row {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 20px 24px;
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr 1fr auto;
      align-items: center;
      gap: 20px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .pool-row:hover {
      border-color: var(--accent);
      background: var(--bg-hover);
    }

    .pool-row-info {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .pool-row-tokens {
      display: flex;
    }

    .pool-row-tokens .token-icon {
      width: 36px;
      height: 36px;
      font-size: 11px;
    }

    .pool-row-tokens .token-icon:last-child {
      margin-left: -10px;
    }

    .pool-row-name {
      font-weight: 600;
      font-size: 15px;
    }

    .pool-row-fee {
      font-size: 12px;
      color: var(--text-muted);
    }

    .pool-row-value {
      font-weight: 600;
    }

    .pool-row-apr {
      color: var(--success-light);
      font-weight: 700;
    }

    .pool-row-btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .pool-row-btn:hover {
      background: var(--accent-light);
    }

    /* Risk Indicator */
    .risk-indicator {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    .risk-indicator.low {
      background: var(--success-bg);
      color: var(--success-light);
    }

    .risk-indicator.medium {
      background: var(--warning-bg);
      color: var(--warning-light);
    }

    .risk-indicator.high {
      background: var(--danger-bg);
      color: var(--danger-light);
    }

    /* Page views */
    .page {
      display: none;
    }

    .page.active {
      display: block;
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .content-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 900px) {
      .sidebar {
        display: none;
      }
      .main {
        margin-left: 0;
      }
      .pool-stats {
        grid-template-columns: repeat(2, 1fr);
      }
      .pool-row {
        grid-template-columns: 1fr 1fr;
      }
    }

    /* Animations */
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .live-indicator {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: var(--success-light);
    }

    .live-dot {
      width: 8px;
      height: 8px;
      background: var(--success);
      border-radius: 50%;
      animation: pulse 2s infinite;
      box-shadow: 0 0 8px var(--success);
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <div class="logo-icon">üíß</div>
        <div class="logo-text">Pool Intel</div>
      </div>

      <div class="nav-section">
        <div class="nav-label">Menu Principal</div>
        <div class="nav-item" onclick="showPage('dashboard')">
          <span class="icon">üìä</span> Dashboard
        </div>
        <div class="nav-item active" onclick="showPage('pools')" id="nav-pools">
          <span class="icon">üîç</span> Explorar Pools
        </div>
        <div class="nav-item" onclick="showPage('recommended')">
          <span class="icon">‚≠ê</span> Recomendados
          <span class="badge">3</span>
        </div>
      </div>

      <div class="nav-section">
        <div class="nav-label">Minhas Atividades</div>
        <div class="nav-item" onclick="showPage('positions')">
          <span class="icon">üìà</span> Posi√ß√µes Ativas
        </div>
        <div class="nav-item" onclick="showPage('alerts')">
          <span class="icon">üîî</span> Alertas
          <span class="badge">2</span>
        </div>
        <div class="nav-item" onclick="showPage('history')">
          <span class="icon">üìú</span> Hist√≥rico
        </div>
      </div>

      <div class="nav-section">
        <div class="nav-label">Sistema</div>
        <div class="nav-item">
          <span class="icon">ü§ñ</span> Telegram Bot
        </div>
        <div class="nav-item">
          <span class="icon">‚öôÔ∏è</span> Configura√ß√µes
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <!-- Pools List Page -->
      <div class="page active" id="page-pools">
        <div class="page-header">
          <div>
            <h1 class="page-title">Explorar Pools</h1>
            <p class="page-subtitle">Analise e compare pools de liquidez em tempo real</p>
          </div>
          <div class="header-actions">
            <div class="network-selector">
              <span class="network-dot"></span>
              Ethereum
              <span>‚ñº</span>
            </div>
          </div>
        </div>

        <div class="pools-grid">
          <div class="pool-row" onclick="showPoolDetail('eth-usdc')">
            <div class="pool-row-info">
              <div class="pool-row-tokens">
                <div class="token-icon eth">ETH</div>
                <div class="token-icon usdc">USDC</div>
              </div>
              <div>
                <div class="pool-row-name">ETH / USDC</div>
                <div class="pool-row-fee">0.30% fee</div>
              </div>
            </div>
            <div>
              <div class="pool-row-fee">TVL</div>
              <div class="pool-row-value">$142.5M</div>
            </div>
            <div>
              <div class="pool-row-fee">Volume 24h</div>
              <div class="pool-row-value">$28.3M</div>
            </div>
            <div>
              <div class="pool-row-fee">APR Est.</div>
              <div class="pool-row-apr">24.8%</div>
            </div>
            <div>
              <span class="risk-indicator medium">‚öñÔ∏è M√©dio</span>
            </div>
            <button class="pool-row-btn">Analisar ‚Üí</button>
          </div>

          <div class="pool-row" onclick="showPoolDetail('wbtc-eth')">
            <div class="pool-row-info">
              <div class="pool-row-tokens">
                <div class="token-icon wbtc">BTC</div>
                <div class="token-icon eth">ETH</div>
              </div>
              <div>
                <div class="pool-row-name">WBTC / ETH</div>
                <div class="pool-row-fee">0.30% fee</div>
              </div>
            </div>
            <div>
              <div class="pool-row-fee">TVL</div>
              <div class="pool-row-value">$89.2M</div>
            </div>
            <div>
              <div class="pool-row-fee">Volume 24h</div>
              <div class="pool-row-value">$15.7M</div>
            </div>
            <div>
              <div class="pool-row-fee">APR Est.</div>
              <div class="pool-row-apr">18.5%</div>
            </div>
            <div>
              <span class="risk-indicator low">üõ°Ô∏è Baixo</span>
            </div>
            <button class="pool-row-btn">Analisar ‚Üí</button>
          </div>

          <div class="pool-row" onclick="showPoolDetail('arb-eth')">
            <div class="pool-row-info">
              <div class="pool-row-tokens">
                <div class="token-icon arb">ARB</div>
                <div class="token-icon eth">ETH</div>
              </div>
              <div>
                <div class="pool-row-name">ARB / ETH</div>
                <div class="pool-row-fee">0.30% fee</div>
              </div>
            </div>
            <div>
              <div class="pool-row-fee">TVL</div>
              <div class="pool-row-value">$45.8M</div>
            </div>
            <div>
              <div class="pool-row-fee">Volume 24h</div>
              <div class="pool-row-value">$12.4M</div>
            </div>
            <div>
              <div class="pool-row-fee">APR Est.</div>
              <div class="pool-row-apr">32.1%</div>
            </div>
            <div>
              <span class="risk-indicator high">üéØ Alto</span>
            </div>
            <button class="pool-row-btn">Analisar ‚Üí</button>
          </div>
        </div>
      </div>

      <!-- Pool Detail Page -->
      <div class="page" id="page-pool-detail">
        <div class="page-header">
          <div>
            <h1 class="page-title">An√°lise de Pool</h1>
            <p class="page-subtitle">Configure seu range e veja proje√ß√µes em tempo real</p>
          </div>
          <div class="header-actions">
            <div class="live-indicator">
              <span class="live-dot"></span>
              Dados em tempo real
            </div>
            <div class="network-selector">
              <span class="network-dot"></span>
              Ethereum
            </div>
          </div>
        </div>

        <!-- Pool Header -->
        <div class="pool-header-card">
          <div class="pool-info">
            <div class="token-icons">
              <div class="token-icon eth">ETH</div>
              <div class="token-icon usdc">USDC</div>
            </div>
            <div>
              <div class="pool-title">ETH / USDC</div>
              <div class="pool-badges">
                <span class="badge badge-primary">0.30% fee</span>
                <span class="badge badge-success">Uniswap V3</span>
                <span class="badge badge-warning" id="risk-badge">‚öñÔ∏è Risco M√©dio</span>
              </div>
            </div>
          </div>
          <div class="pool-stats">
            <div class="stat-box">
              <div class="stat-label">TVL Total</div>
              <div class="stat-value">$142.5M</div>
              <div class="stat-change up">‚Üë 2.3% (24h)</div>
            </div>
            <div class="stat-box">
              <div class="stat-label">Volume 24h</div>
              <div class="stat-value">$28.3M</div>
              <div class="stat-change up">‚Üë 5.1%</div>
            </div>
            <div class="stat-box">
              <div class="stat-label">APR Base</div>
              <div class="stat-value positive">24.8%</div>
              <div class="stat-change">m√©dia 7 dias</div>
            </div>
            <div class="stat-box">
              <div class="stat-label">Pre√ßo Atual</div>
              <div class="stat-value" id="current-price-display">$2,485.32</div>
              <div class="stat-change down">‚Üì 0.8% (1h)</div>
            </div>
          </div>
        </div>

        <!-- Content Grid -->
        <div class="content-grid">
          <!-- Left: Chart -->
          <div class="chart-section">
            <div class="section-header">
              <h2 class="section-title">üìä Selecione o Range de Liquidez</h2>
              <span class="risk-indicator medium" id="range-risk">‚öñÔ∏è Risco M√©dio</span>
            </div>

            <!-- Chart -->
            <div class="chart-container" id="chart-container">
              <div class="chart-y-axis">
                <span>Alto</span>
                <span></span>
                <span></span>
                <span>Baixo</span>
              </div>
              <div class="chart-area">
                <div class="chart-bars" id="chart-bars"></div>
              </div>

              <!-- Range Overlay -->
              <div class="range-overlay" id="range-overlay">
                <div class="range-handle left" id="handle-left"></div>
                <div class="range-handle right" id="handle-right"></div>
              </div>

              <!-- Current Price Line -->
              <div class="current-price-line" id="price-line">
                <div class="current-price-label">$2,485</div>
              </div>

              <!-- X Axis -->
              <div class="chart-x-axis">
                <span>$2,000</span>
                <span>$2,200</span>
                <span>$2,400</span>
                <span>$2,600</span>
                <span>$2,800</span>
                <span>$3,000</span>
              </div>
            </div>

            <div class="drag-hint">
              üëÜ Arraste as bordas para ajustar | Arraste o centro para mover o range
            </div>

            <!-- Presets -->
            <div class="presets-row">
              <div class="preset-btn" onclick="selectPreset('defensive')" id="preset-defensive">
                <div class="preset-icon">üõ°Ô∏è</div>
                <div class="preset-name">Defensivo</div>
                <div class="preset-range">¬±15% do pre√ßo</div>
              </div>
              <div class="preset-btn active" onclick="selectPreset('optimized')" id="preset-optimized">
                <div class="preset-icon">‚öñÔ∏è</div>
                <div class="preset-name">Otimizado</div>
                <div class="preset-range">¬±10% do pre√ßo</div>
              </div>
              <div class="preset-btn" onclick="selectPreset('aggressive')" id="preset-aggressive">
                <div class="preset-icon">üéØ</div>
                <div class="preset-name">Agressivo</div>
                <div class="preset-range">¬±5% do pre√ßo</div>
              </div>
            </div>

            <!-- Range Inputs -->
            <div class="range-inputs">
              <div class="input-group">
                <div class="input-label">Pre√ßo M√≠nimo</div>
                <div class="input-wrapper">
                  <span class="currency">$</span>
                  <input type="text" id="min-price-input" value="2,237.00" onchange="updateFromInputs()">
                </div>
              </div>
              <div class="input-separator">‚Üî</div>
              <div class="input-group">
                <div class="input-label">Pre√ßo M√°ximo</div>
                <div class="input-wrapper">
                  <span class="currency">$</span>
                  <input type="text" id="max-price-input" value="2,734.00" onchange="updateFromInputs()">
                </div>
              </div>
            </div>

            <button class="center-btn" onclick="centerRange()">
              üéØ Centralizar no Pre√ßo Atual
            </button>
          </div>

          <!-- Right: Metrics -->
          <div class="metrics-section">
            <div class="section-header">
              <h2 class="section-title">üìà Proje√ß√£o (7 dias)</h2>
              <div class="live-indicator">
                <span class="live-dot"></span>
                Ao vivo
              </div>
            </div>

            <!-- Capital Input -->
            <div class="capital-input-section">
              <div class="input-label">Capital a Investir</div>
              <div class="capital-box">
                <div class="input-wrapper">
                  <span class="currency">$</span>
                  <input type="text" id="capital-input" value="10,000" onchange="calculateMetrics()">
                </div>
              </div>
            </div>

            <!-- Warning (hidden by default) -->
            <div class="warning-box" id="warning-box" style="display: none;">
              <span class="icon">‚ö†Ô∏è</span>
              <div>
                <div class="title">Pre√ßo fora do range</div>
                <div class="text">Voc√™ n√£o ganhar√° fees enquanto o pre√ßo estiver fora do range.</div>
              </div>
            </div>

            <!-- Metrics Grid -->
            <div class="metrics-grid">
              <div class="metric-card">
                <div class="metric-header">
                  <span class="metric-icon">üìà</span>
                  <span class="metric-label">Fees Estimadas</span>
                </div>
                <div class="metric-value positive" id="fees-percent">+1.82%</div>
                <div class="metric-sub" id="fees-usd">~$182.00</div>
              </div>

              <div class="metric-card">
                <div class="metric-header">
                  <span class="metric-icon">üìâ</span>
                  <span class="metric-label">IL Estimada</span>
                </div>
                <div class="metric-value negative" id="il-percent">-0.45%</div>
                <div class="metric-sub" id="il-usd">~$45.00</div>
              </div>

              <div class="metric-card">
                <div class="metric-header">
                  <span class="metric-icon">‚è±Ô∏è</span>
                  <span class="metric-label">Tempo no Range</span>
                </div>
                <div class="metric-value" id="time-in-range">87%</div>
                <div class="metric-sub">do per√≠odo</div>
              </div>

              <div class="metric-card">
                <div class="metric-header">
                  <span class="metric-icon">‚õΩ</span>
                  <span class="metric-label">Custo de Gas</span>
                </div>
                <div class="metric-value" id="gas-cost">~$12.50</div>
                <div class="metric-sub">entrada + rebalance</div>
              </div>
            </div>

            <!-- Net Return -->
            <div class="net-return-box positive" id="net-return-box">
              <div class="net-return-header">
                <div class="net-return-label">
                  <span>üí∞</span>
                  Retorno L√≠quido (7d)
                </div>
                <div class="net-return-value positive" id="net-return-percent">+1.25%</div>
              </div>
              <div class="net-return-details">
                <span id="net-return-usd">Valor: +$124.50</span>
                <span class="apr" id="apr-value">APR: ~65.2%</span>
              </div>
            </div>

            <!-- Formula -->
            <div class="formula-box" id="formula-box">
              Retorno = Fees (1.82%) - IL (0.45%) - Gas (0.12%)
            </div>

            <!-- Action Button -->
            <button class="action-btn">
              <span>üöÄ</span>
              Simular Posi√ß√£o no Uniswap
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Global State
    const state = {
      currentPrice: 2485.32,
      minPrice: 2237,
      maxPrice: 2734,
      capital: 10000,
      priceRange: { min: 2000, max: 3000 },
      baseMetrics: {
        feesEstimate7d: 1.5,
        ilEstimate7d: 0.4,
        gasEstimate: 12.5,
        timeInRange7d: 85
      }
    };

    // Initialize chart
    function initChart() {
      const barsContainer = document.getElementById('chart-bars');
      barsContainer.innerHTML = '';

      // Generate liquidity distribution (bell curve around current price)
      const numBars = 40;
      const currentPriceIndex = Math.floor((state.currentPrice - state.priceRange.min) / (state.priceRange.max - state.priceRange.min) * numBars);

      for (let i = 0; i < numBars; i++) {
        const bar = document.createElement('div');
        bar.className = 'chart-bar';

        // Bell curve height
        const distance = Math.abs(i - currentPriceIndex);
        const height = Math.max(8, 100 * Math.exp(-0.03 * distance * distance));
        bar.style.height = height + '%';

        // Store price for this bar
        const barPrice = state.priceRange.min + (i / numBars) * (state.priceRange.max - state.priceRange.min);
        bar.dataset.price = barPrice;

        barsContainer.appendChild(bar);
      }

      updateChartVisuals();
    }

    // Update chart visuals based on range
    function updateChartVisuals() {
      const bars = document.querySelectorAll('.chart-bar');
      const chartArea = document.querySelector('.chart-area');
      const priceRange = state.priceRange.max - state.priceRange.min;

      bars.forEach(bar => {
        const barPrice = parseFloat(bar.dataset.price);
        bar.classList.remove('in-range', 'current-price');

        if (barPrice >= state.minPrice && barPrice <= state.maxPrice) {
          bar.classList.add('in-range');
        }

        if (Math.abs(barPrice - state.currentPrice) < priceRange / 40) {
          bar.classList.add('current-price');
        }
      });

      // Update range overlay position
      const overlay = document.getElementById('range-overlay');
      const chartWidth = chartArea.offsetWidth - 40; // Subtract padding
      const leftPercent = (state.minPrice - state.priceRange.min) / priceRange;
      const rightPercent = (state.maxPrice - state.priceRange.min) / priceRange;

      overlay.style.left = (50 + leftPercent * chartWidth) + 'px';
      overlay.style.width = ((rightPercent - leftPercent) * chartWidth) + 'px';

      // Update current price line
      const priceLine = document.getElementById('price-line');
      const pricePercent = (state.currentPrice - state.priceRange.min) / priceRange;
      priceLine.style.left = (50 + pricePercent * chartWidth) + 'px';

      // Update inputs
      document.getElementById('min-price-input').value = formatNumber(state.minPrice);
      document.getElementById('max-price-input').value = formatNumber(state.maxPrice);

      // Calculate and update metrics
      calculateMetrics();
    }

    // Calculate metrics based on range
    function calculateMetrics() {
      const capital = parseNumber(document.getElementById('capital-input').value) || 10000;
      state.capital = capital;

      const rangeWidth = ((state.maxPrice - state.minPrice) / state.currentPrice) * 100;
      const widthFactor = 10 / rangeWidth;

      // Adjust fees (narrower range = more concentrated = more fees)
      const feesMultiplier = Math.min(2.5, Math.max(0.3, widthFactor));
      const adjustedFees = state.baseMetrics.feesEstimate7d * feesMultiplier;

      // Adjust IL (narrower range = more IL risk)
      const ilMultiplier = Math.min(3, Math.max(0.2, widthFactor * 1.2));
      const adjustedIL = state.baseMetrics.ilEstimate7d * ilMultiplier;

      // Adjust time in range (wider range = more time in range)
      const timeMultiplier = Math.min(1.2, Math.max(0.3, 1 / widthFactor));
      const adjustedTimeInRange = Math.min(98, state.baseMetrics.timeInRange7d * timeMultiplier);

      const gasEstimate = state.baseMetrics.gasEstimate;
      const gasPercent = (gasEstimate / capital) * 100;

      // Net return
      const netReturn = adjustedFees - adjustedIL - gasPercent;
      const feesUsd = (adjustedFees / 100) * capital;
      const ilUsd = (adjustedIL / 100) * capital;
      const netReturnUsd = (netReturn / 100) * capital;
      const apr = netReturn * (365 / 7);

      // Determine risk level
      let riskLevel, riskText, riskClass;
      if (rangeWidth > 20) {
        riskLevel = 'low';
        riskText = 'üõ°Ô∏è Risco Baixo';
        riskClass = 'low';
      } else if (rangeWidth > 8) {
        riskLevel = 'medium';
        riskText = '‚öñÔ∏è Risco M√©dio';
        riskClass = 'medium';
      } else {
        riskLevel = 'high';
        riskText = 'üéØ Risco Alto';
        riskClass = 'high';
      }

      // Check if price is in range
      const priceInRange = state.currentPrice >= state.minPrice && state.currentPrice <= state.maxPrice;
      document.getElementById('warning-box').style.display = priceInRange ? 'none' : 'flex';

      // Update DOM
      document.getElementById('fees-percent').textContent = '+' + adjustedFees.toFixed(2) + '%';
      document.getElementById('fees-usd').textContent = '~$' + feesUsd.toFixed(2);

      document.getElementById('il-percent').textContent = '-' + adjustedIL.toFixed(2) + '%';
      document.getElementById('il-usd').textContent = '~$' + ilUsd.toFixed(2);

      document.getElementById('time-in-range').textContent = adjustedTimeInRange.toFixed(0) + '%';
      document.getElementById('gas-cost').textContent = '~$' + gasEstimate.toFixed(2);

      const netReturnBox = document.getElementById('net-return-box');
      const netReturnPercentEl = document.getElementById('net-return-percent');

      if (netReturn >= 0) {
        netReturnBox.className = 'net-return-box positive';
        netReturnPercentEl.className = 'net-return-value positive';
        netReturnPercentEl.textContent = '+' + netReturn.toFixed(2) + '%';
        document.getElementById('net-return-usd').textContent = 'Valor: +$' + netReturnUsd.toFixed(2);
      } else {
        netReturnBox.className = 'net-return-box negative';
        netReturnPercentEl.className = 'net-return-value negative';
        netReturnPercentEl.textContent = netReturn.toFixed(2) + '%';
        document.getElementById('net-return-usd').textContent = 'Valor: -$' + Math.abs(netReturnUsd).toFixed(2);
      }

      document.getElementById('apr-value').textContent = 'APR: ~' + apr.toFixed(1) + '%';

      document.getElementById('formula-box').textContent =
        `Retorno = Fees (${adjustedFees.toFixed(2)}%) - IL (${adjustedIL.toFixed(2)}%) - Gas (${gasPercent.toFixed(2)}%)`;

      // Update risk indicators
      const rangeRisk = document.getElementById('range-risk');
      rangeRisk.textContent = riskText;
      rangeRisk.className = 'risk-indicator ' + riskClass;

      document.getElementById('risk-badge').textContent = riskText;
      document.getElementById('risk-badge').className = 'badge badge-' + (riskLevel === 'low' ? 'success' : riskLevel === 'medium' ? 'warning' : 'danger');
    }

    // Preset selection
    function selectPreset(type) {
      document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById('preset-' + type).classList.add('active');

      const currentPrice = state.currentPrice;

      if (type === 'defensive') {
        state.minPrice = currentPrice * 0.85;
        state.maxPrice = currentPrice * 1.15;
      } else if (type === 'optimized') {
        state.minPrice = currentPrice * 0.90;
        state.maxPrice = currentPrice * 1.10;
      } else if (type === 'aggressive') {
        state.minPrice = currentPrice * 0.95;
        state.maxPrice = currentPrice * 1.05;
      }

      updateChartVisuals();
    }

    // Center range on current price
    function centerRange() {
      const rangeWidth = state.maxPrice - state.minPrice;
      state.minPrice = state.currentPrice - rangeWidth / 2;
      state.maxPrice = state.currentPrice + rangeWidth / 2;
      updateChartVisuals();
    }

    // Update from input fields
    function updateFromInputs() {
      const minVal = parseNumber(document.getElementById('min-price-input').value);
      const maxVal = parseNumber(document.getElementById('max-price-input').value);

      if (minVal && maxVal && minVal < maxVal) {
        state.minPrice = minVal;
        state.maxPrice = maxVal;
        updateChartVisuals();
      }
    }

    // Drag handling
    let isDragging = false;
    let dragType = null;
    let dragStartX = 0;
    let dragStartMinPrice = 0;
    let dragStartMaxPrice = 0;

    function initDragHandlers() {
      const overlay = document.getElementById('range-overlay');
      const leftHandle = document.getElementById('handle-left');
      const rightHandle = document.getElementById('handle-right');

      // Mouse events
      leftHandle.addEventListener('mousedown', (e) => startDrag(e, 'left'));
      rightHandle.addEventListener('mousedown', (e) => startDrag(e, 'right'));
      overlay.addEventListener('mousedown', (e) => {
        if (e.target === overlay) startDrag(e, 'move');
      });

      document.addEventListener('mousemove', handleDrag);
      document.addEventListener('mouseup', stopDrag);

      // Touch events for iPad
      leftHandle.addEventListener('touchstart', (e) => startDrag(e.touches[0], 'left'));
      rightHandle.addEventListener('touchstart', (e) => startDrag(e.touches[0], 'right'));
      overlay.addEventListener('touchstart', (e) => {
        if (e.target === overlay) startDrag(e.touches[0], 'move');
      });

      document.addEventListener('touchmove', (e) => handleDrag(e.touches[0]));
      document.addEventListener('touchend', stopDrag);
    }

    function startDrag(e, type) {
      isDragging = true;
      dragType = type;
      dragStartX = e.clientX;
      dragStartMinPrice = state.minPrice;
      dragStartMaxPrice = state.maxPrice;

      document.getElementById('range-overlay').classList.add('dragging');
    }

    function handleDrag(e) {
      if (!isDragging) return;

      const chartArea = document.querySelector('.chart-area');
      const chartWidth = chartArea.offsetWidth - 40;
      const priceRange = state.priceRange.max - state.priceRange.min;
      const pricePerPixel = priceRange / chartWidth;

      const dx = e.clientX - dragStartX;
      const dPrice = dx * pricePerPixel;

      if (dragType === 'left') {
        const newMin = Math.max(state.priceRange.min, Math.min(dragStartMinPrice + dPrice, state.maxPrice - 50));
        state.minPrice = newMin;
      } else if (dragType === 'right') {
        const newMax = Math.min(state.priceRange.max, Math.max(dragStartMaxPrice + dPrice, state.minPrice + 50));
        state.maxPrice = newMax;
      } else if (dragType === 'move') {
        const rangeWidth = dragStartMaxPrice - dragStartMinPrice;
        let newMin = dragStartMinPrice + dPrice;
        let newMax = dragStartMaxPrice + dPrice;

        if (newMin < state.priceRange.min) {
          newMin = state.priceRange.min;
          newMax = newMin + rangeWidth;
        }
        if (newMax > state.priceRange.max) {
          newMax = state.priceRange.max;
          newMin = newMax - rangeWidth;
        }

        state.minPrice = newMin;
        state.maxPrice = newMax;
      }

      // Clear preset selection
      document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));

      updateChartVisuals();
    }

    function stopDrag() {
      isDragging = false;
      dragType = null;
      document.getElementById('range-overlay').classList.remove('dragging');
    }

    // Navigation
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));

      if (pageId === 'pools') {
        document.getElementById('page-pools').classList.add('active');
        document.getElementById('nav-pools').classList.add('active');
      }
    }

    function showPoolDetail(poolId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById('page-pool-detail').classList.add('active');

      // Initialize chart when showing detail page
      setTimeout(() => {
        initChart();
        initDragHandlers();
      }, 100);
    }

    // Utility functions
    function formatNumber(num) {
      return num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    }

    function parseNumber(str) {
      return parseFloat(str.replace(/,/g, ''));
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      // Show pools page by default
    });
  </script>
</body>
</html>
